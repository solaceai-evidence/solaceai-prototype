# API key for Semantic Scholar - used to retrieve paper passages, search results, and metadata
S2_API_KEY=

# API key for Anthropic Claude models - primary LLM for content generation and analysis
ANTHROPIC_API_KEY=

# API key for OpenAI models - used as fallback LLM and for content moderation/validation
OPENAI_API_KEY=

# Modal cloud platform credentials - required when using Modal for remote model deployment
MODAL_TOKEN=
MODAL_TOKEN_SECRET=

# Remote reranker service configuration
# Host address for the remote reranker service (use 0.0.0.0 for local development)
RERANKER_HOST=0.0.0.0
# Port number for the remote reranker service
RERANKER_PORT=10001

# LLM concurrency settings (calls to S2 API are hardcoded to 1 in the pipeline)
# Maximum number of concurrent LLM workers for parallel processing (recommended: 3)
MAX_LLM_WORKERS=3

# Rate limiting configuration - Balanced for laptop prototype with Claude 4 Sonnet
# Conservative settings: ~10% of Claude 4 limits for reliable laptop performance
# Requests per minute - controls API call frequency (120 = moderate load)
RATE_LIMIT_RPM=120
# Input tokens per minute - prevents quota overrun (100K = conservative for laptops)
RATE_LIMIT_ITPM=100000
# Output tokens per minute - controls generation limits (25K = balanced throughput)
RATE_LIMIT_OTPM=25000

# Query processing timeout (in seconds)
# Laptop prototype: 420s (7 min) for complex queries with table generation
# Production/cloud: Can be reduced to 240-300s for faster hardware
QUERY_TIMEOUT_SECONDS=420

# Reranker timeout settings (in seconds)
# Client timeout when communicating with remote reranker service
RERANKER_CLIENT_TIMEOUT=180
# Maximum concurrent reranker requests (1 = sequential processing)
MAX_CONCURRENCY=1
# Request processing timeout in milliseconds for reranker operations
RERANKER_TIMEOUT_MS=180000
# Queue wait timeout in milliseconds before rejecting reranker requests
RERANKER_QUEUE_TIMEOUT_MS=10000

# Query refinement step configuration
# Enable/disable query refinement preprocessing (true = enhanced query analysis)
ENABLE_QUERY_REFINEMENT=true
